(()=>{"use strict";var n,e={171:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(354),o=t.n(r),i=t(314),a=t.n(i)()(o());a.push([n.id,"/* 基础样式重置 */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\nbody {\n    background-color: #f9f9f9;\n    color: #333;\n    line-height: 1.6;\n}\n\n/* 通用按钮样式 */\n.btn {\n    cursor: pointer;\n    border: none;\n    border-radius: 4px;\n    transition: background 0.2s;\n}\n\n/* 响应式适配 */\n@media (max-width: 768px) {\n    .component-list {\n        grid-template-columns: 1fr !important;\n    }\n}","",{version:3,sources:["webpack://./src/styles/global.css"],names:[],mappings:"AAAA,WAAW;AACX;IACI,SAAS;IACT,UAAU;IACV,sBAAsB;IACtB,4DAA4D;AAChE;;AAEA;IACI,yBAAyB;IACzB,WAAW;IACX,gBAAgB;AACpB;;AAEA,WAAW;AACX;IACI,eAAe;IACf,YAAY;IACZ,kBAAkB;IAClB,2BAA2B;AAC/B;;AAEA,UAAU;AACV;IACI;QACI,qCAAqC;IACzC;AACJ",sourcesContent:["/* 基础样式重置 */\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n}\r\n\r\nbody {\r\n    background-color: #f9f9f9;\r\n    color: #333;\r\n    line-height: 1.6;\r\n}\r\n\r\n/* 通用按钮样式 */\r\n.btn {\r\n    cursor: pointer;\r\n    border: none;\r\n    border-radius: 4px;\r\n    transition: background 0.2s;\r\n}\r\n\r\n/* 响应式适配 */\r\n@media (max-width: 768px) {\r\n    .component-list {\r\n        grid-template-columns: 1fr !important;\r\n    }\r\n}"],sourceRoot:""}]);const s=a},282:(n,e,t)=>{var r=t(72),o=t.n(r),i=t(825),a=t.n(i),s=t(659),A=t.n(s),d=t(56),l=t.n(d),c=t(540),m=t.n(c),p=t(113),C=t.n(p),u=t(171),b={};b.styleTagTransform=C(),b.setAttributes=l(),b.insert=A().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=m(),o()(u.A,b),u.A&&u.A.locals&&u.A.locals;var g=t(365),B={};B.styleTagTransform=C(),B.setAttributes=l(),B.insert=A().bind(null,"head"),B.domAPI=a(),B.insertStyleElement=m(),o()(g.A,B),g.A&&g.A.locals&&g.A.locals;const I=t(83).A.create({baseURL:"https://slfftz2011.github.io/mod-injector/api",timeout:1e4});I.interceptors.request.use(n=>n,n=>(console.error("请求错误:",n),Promise.reject(n))),I.interceptors.response.use(n=>n.data,n=>(console.error("响应错误:",n),alert("请求失败: "+(n.response?.data?.message||"网络错误")),Promise.reject(n)));const h=I;var f=t(790),y=t.n(f);y().config({name:"NeteaseModInjector",storeName:"components"});const v="installedComponents",x=async n=>{await y().setItem(v,n)};class k{constructor(){this.components=[],this.installedComponents=[],this.init()}async init(){try{this.installedComponents=await(async()=>await y().getItem(v)||[])(),await this.loadRemoteComponents(),this.renderComponentList(),this.bindEvents()}catch(n){console.error("初始化失败:",n),document.getElementById("componentList").innerHTML='<div style="text-align: center; color: #f44336; padding: 2rem;">加载失败，请刷新页面重试</div>'}}async loadRemoteComponents(){const n=await(async()=>await h.get("/components.json"))();if(200!==n.code)throw new Error("获取组件列表失败");this.components=n.data,await(async n=>{await y().setItem("lastSyncTime",n)})(Date.now())}async installComponent(n){const e=this.components.find(e=>e.id===n);if(!e)return!1;if(this.installedComponents.some(e=>e.id===n))return!1;try{const t=await(async n=>await h.get(`/download?componentId=${n}`))(n);return console.log("下载链接:",t.url),this.installedComponents.push({id:e.id,enabled:!0,version:e.version,installTime:Date.now()}),await x(this.installedComponents),this.renderComponentList(),alert(`组件《${e.name}》安装成功`),!0}catch(n){return console.error("安装失败:",n),alert("安装失败: "+n.message),!1}}async uninstallComponent(n){const e=this.components.find(e=>e.id===n);return e?.required?(alert("核心组件不能卸载"),!1):(this.installedComponents=this.installedComponents.filter(e=>e.id!==n),await x(this.installedComponents),this.renderComponentList(),alert(`组件《${e?.name||n}》已卸载`),!0)}async toggleComponentStatus(n){const e=this.installedComponents.find(e=>e.id===n);return!!e&&(e.enabled=!e.enabled,await x(this.installedComponents),this.renderComponentList(),!0)}renderComponentList(){const n=document.getElementById("componentList"),e=document.getElementById("component-search").value.toLowerCase(),t=document.getElementById("component-filter").value;if(0===this.components.length)return void(n.innerHTML='<div style="text-align: center; padding: 2rem;">暂无组件数据</div>');const r=this.components.filter(n=>{const r=n.name.toLowerCase().includes(e)||n.description.toLowerCase().includes(e),o=this.installedComponents.some(e=>e.id===n.id),i=this.installedComponents.find(e=>e.id===n.id)?.enabled;return"all"===t?r:"installed"===t?r&&o:"enabled"===t?r&&o&&i:r});n.innerHTML=r.map(n=>{const e=this.installedComponents.some(e=>e.id===n.id),t=this.installedComponents.find(e=>e.id===n.id)?.enabled,r=this.installedComponents.find(e=>e.id===n.id)?.version;return`\n        <div class="component-card">\n          <h3>\n            ${n.name}\n            <span class="component-version">v${r||n.version}</span>\n          </h3>\n          <p class="component-desc">${n.description}</p>\n          <div style="font-size: 0.8rem; color: #666; margin: 0.5rem 0;">\n            大小: ${n.size} | 最后更新: ${n.updateTime}\n          </div>\n          ${n.required?'<span style="display: inline-block; background: #ff9800; color: white; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">核心组件</span>':""}\n          <div class="component-actions">\n            ${e?"":`<button class="component-btn install-btn" data-id="${n.id}">安装</button>`}\n            ${e?`<button class="component-btn ${t?"disable-btn":"enable-btn"}" data-id="${n.id}">${t?"禁用":"启用"}</button>`:""}\n            ${e&&!n.required?`<button class="component-btn uninstall-btn" data-id="${n.id}">卸载</button>`:""}\n          </div>\n        </div>\n      `}).join("")}bindEvents(){document.getElementById("componentList").addEventListener("click",async n=>{const e=n.target.closest(".component-btn");if(!e)return;const t=e.dataset.id;e.classList.contains("install-btn")?await this.installComponent(t):e.classList.contains("uninstall-btn")?await this.uninstallComponent(t):(e.classList.contains("enable-btn")||e.classList.contains("disable-btn"))&&await this.toggleComponentStatus(t)}),document.getElementById("component-search").addEventListener("input",()=>{this.renderComponentList()}),document.getElementById("component-filter").addEventListener("change",()=>{this.renderComponentList()}),document.getElementById("sync-components").addEventListener("click",async()=>{const n=document.getElementById("sync-components");n.disabled=!0,n.textContent="同步中...";try{await this.loadRemoteComponents(),this.renderComponentList(),alert("组件列表已同步至最新")}catch(n){alert("同步失败: "+n.message)}finally{n.disabled=!1,n.textContent="同步远程组件"}});const n=document.getElementById("installModal");document.getElementById("confirm-install").addEventListener("click",async()=>{const e=document.getElementById("component-url"),t=e.value.trim();t?(t.includes("http")?alert(`正在从URL安装: ${t}`):await this.installComponent(t),n.style.display="none",e.value=""):alert("请输入组件ID或URL")}),document.querySelector(".close-btn").addEventListener("click",()=>{n.style.display="none"}),window.addEventListener("click",e=>{e.target===n&&(n.style.display="none")})}}document.getElementById("componentManagerContainer").innerHTML='<div class="component-manager"> <div style="display:flex;justify-content:space-between;align-items:center"> <h2>组件管理</h2> <button id="sync-components" class="btn" style="background:#3498db;color:#fff;padding:.5rem 1rem"> 同步远程组件 </button> </div> <div class="component-filters"> <input type="text" id="component-search" placeholder="搜索组件..."> <select id="component-filter"> <option value="all">全部组件</option> <option value="installed">已安装</option> <option value="enabled">已启用</option> </select> </div> <div class="component-list" id="componentList"> <div style="text-align:center;padding:2rem">加载中...</div> </div> <div class="modal" id="installModal"> <div class="modal-content"> <span class="close-btn">&times;</span> <h3>安装组件</h3> <input type="text" id="component-url" placeholder="输入组件URL或ID"> <button id="confirm-install" class="btn" style="background:#4caf50;color:#fff;padding:.5rem 1rem;margin-top:1rem"> 确认安装 </button> </div> </div> </div>',document.addEventListener("DOMContentLoaded",()=>{new k})},365:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(354),o=t.n(r),i=t(314),a=t.n(i)()(o());a.push([n.id,'.component-manager {\n    max-width: 1200px;\n    margin: 2rem auto;\n    padding: 0 1rem;\n}\n\n.component-filters {\n    display: flex;\n    gap: 1rem;\n    margin: 1.5rem 0;\n    flex-wrap: wrap;\n}\n\n#component-search {\n    flex: 1;\n    min-width: 200px;\n    padding: 0.5rem;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\n#component-filter {\n    padding: 0.5rem;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    background: transparent;\n}\n\n.component-list {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 1.5rem;\n    margin-top: 2rem;\n}\n\n.component-card {\n    border: 1px solid #e0e0e0;\n    border-radius: 8px;\n    padding: 1.2rem;\n    transition: all 0.3s ease;\n}\n\n.component-card:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.component-card h3 {\n    margin: 0 0 0.5rem 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.component-version {\n    font-size: 0.8rem;\n    color: #666;\n}\n\n.component-desc {\n    color: #555;\n    margin: 0.8rem 0;\n    font-size: 0.95rem;\n    line-height: 1.5;\n}\n\n.component-actions {\n    display: flex;\n    gap: 0.5rem;\n    margin-top: 1rem;\n}\n\n.component-btn {\n    padding: 0.4rem 0.8rem;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 0.9rem;\n    transition: background 0.2s;\n}\n\n.install-btn {\n    background: #4CAF50;\n    color: white;\n}\n\n.uninstall-btn {\n    background: #f44336;\n    color: white;\n}\n\n.enable-btn {\n    background: #2196F3;\n    color: white;\n}\n\n.disable-btn {\n    background: #ff9800;\n    color: white;\n}\n\n/* 模态框样式 */\n.modal {\n    display: none;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.5);\n    z-index: 1000;\n    align-items: center;\n    justify-content: center;\n}\n\n.modal-content {\n    background: var(--bg-color);\n    padding: 2rem;\n    border-radius: 8px;\n    width: 90%;\n    max-width: 500px;\n    position: relative;\n}\n\n.close-btn {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    font-size: 1.5rem;\n    cursor: pointer;\n}\n\n#component-url {\n    width: 100%;\n    padding: 0.8rem;\n    margin: 1rem 0;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\n#confirm-install {\n    background: #4CAF50;\n    color: white;\n    border: none;\n    padding: 0.8rem 1.5rem;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\n/* 深色模式适配 */\n[data-theme="dark"] .component-card {\n    border-color: #333;\n}\n\n[data-theme="dark"] .component-desc,\n[data-theme="dark"] .component-version {\n    color: #bbb;\n}\n\n[data-theme="dark"] #component-search,\n[data-theme="dark"] #component-filter,\n[data-theme="dark"] #component-url {\n    border-color: #444;\n    background: #222;\n    color: #fff;\n}',"",{version:3,sources:["webpack://./src/components/component-manager.css"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,iBAAiB;IACjB,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,SAAS;IACT,gBAAgB;IAChB,eAAe;AACnB;;AAEA;IACI,OAAO;IACP,gBAAgB;IAChB,eAAe;IACf,sBAAsB;IACtB,kBAAkB;AACtB;;AAEA;IACI,eAAe;IACf,sBAAsB;IACtB,kBAAkB;IAClB,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,4DAA4D;IAC5D,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,eAAe;IACf,yBAAyB;AAC7B;;AAEA;IACI,yCAAyC;AAC7C;;AAEA;IACI,oBAAoB;IACpB,aAAa;IACb,8BAA8B;IAC9B,mBAAmB;AACvB;;AAEA;IACI,iBAAiB;IACjB,WAAW;AACf;;AAEA;IACI,WAAW;IACX,gBAAgB;IAChB,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,sBAAsB;IACtB,YAAY;IACZ,kBAAkB;IAClB,eAAe;IACf,iBAAiB;IACjB,2BAA2B;AAC/B;;AAEA;IACI,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,mBAAmB;IACnB,YAAY;AAChB;;AAEA,UAAU;AACV;IACI,aAAa;IACb,eAAe;IACf,MAAM;IACN,OAAO;IACP,WAAW;IACX,YAAY;IACZ,8BAA8B;IAC9B,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,2BAA2B;IAC3B,aAAa;IACb,kBAAkB;IAClB,UAAU;IACV,gBAAgB;IAChB,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,WAAW;IACX,iBAAiB;IACjB,eAAe;AACnB;;AAEA;IACI,WAAW;IACX,eAAe;IACf,cAAc;IACd,sBAAsB;IACtB,kBAAkB;AACtB;;AAEA;IACI,mBAAmB;IACnB,YAAY;IACZ,YAAY;IACZ,sBAAsB;IACtB,kBAAkB;IAClB,eAAe;AACnB;;AAEA,WAAW;AACX;IACI,kBAAkB;AACtB;;AAEA;;IAEI,WAAW;AACf;;AAEA;;;IAGI,kBAAkB;IAClB,gBAAgB;IAChB,WAAW;AACf",sourcesContent:['.component-manager {\r\n    max-width: 1200px;\r\n    margin: 2rem auto;\r\n    padding: 0 1rem;\r\n}\r\n\r\n.component-filters {\r\n    display: flex;\r\n    gap: 1rem;\r\n    margin: 1.5rem 0;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n#component-search {\r\n    flex: 1;\r\n    min-width: 200px;\r\n    padding: 0.5rem;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n}\r\n\r\n#component-filter {\r\n    padding: 0.5rem;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n    background: transparent;\r\n}\r\n\r\n.component-list {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n    gap: 1.5rem;\r\n    margin-top: 2rem;\r\n}\r\n\r\n.component-card {\r\n    border: 1px solid #e0e0e0;\r\n    border-radius: 8px;\r\n    padding: 1.2rem;\r\n    transition: all 0.3s ease;\r\n}\r\n\r\n.component-card:hover {\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.component-card h3 {\r\n    margin: 0 0 0.5rem 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.component-version {\r\n    font-size: 0.8rem;\r\n    color: #666;\r\n}\r\n\r\n.component-desc {\r\n    color: #555;\r\n    margin: 0.8rem 0;\r\n    font-size: 0.95rem;\r\n    line-height: 1.5;\r\n}\r\n\r\n.component-actions {\r\n    display: flex;\r\n    gap: 0.5rem;\r\n    margin-top: 1rem;\r\n}\r\n\r\n.component-btn {\r\n    padding: 0.4rem 0.8rem;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 0.9rem;\r\n    transition: background 0.2s;\r\n}\r\n\r\n.install-btn {\r\n    background: #4CAF50;\r\n    color: white;\r\n}\r\n\r\n.uninstall-btn {\r\n    background: #f44336;\r\n    color: white;\r\n}\r\n\r\n.enable-btn {\r\n    background: #2196F3;\r\n    color: white;\r\n}\r\n\r\n.disable-btn {\r\n    background: #ff9800;\r\n    color: white;\r\n}\r\n\r\n/* 模态框样式 */\r\n.modal {\r\n    display: none;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    z-index: 1000;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.modal-content {\r\n    background: var(--bg-color);\r\n    padding: 2rem;\r\n    border-radius: 8px;\r\n    width: 90%;\r\n    max-width: 500px;\r\n    position: relative;\r\n}\r\n\r\n.close-btn {\r\n    position: absolute;\r\n    top: 1rem;\r\n    right: 1rem;\r\n    font-size: 1.5rem;\r\n    cursor: pointer;\r\n}\r\n\r\n#component-url {\r\n    width: 100%;\r\n    padding: 0.8rem;\r\n    margin: 1rem 0;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n}\r\n\r\n#confirm-install {\r\n    background: #4CAF50;\r\n    color: white;\r\n    border: none;\r\n    padding: 0.8rem 1.5rem;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n}\r\n\r\n/* 深色模式适配 */\r\n[data-theme="dark"] .component-card {\r\n    border-color: #333;\r\n}\r\n\r\n[data-theme="dark"] .component-desc,\r\n[data-theme="dark"] .component-version {\r\n    color: #bbb;\r\n}\r\n\r\n[data-theme="dark"] #component-search,\r\n[data-theme="dark"] #component-filter,\r\n[data-theme="dark"] #component-url {\r\n    border-color: #444;\r\n    background: #222;\r\n    color: #fff;\r\n}'],sourceRoot:""}]);const s=a}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,n=[],r.O=(e,t,o,i)=>{if(!t){var a=1/0;for(l=0;l<n.length;l++){for(var[t,o,i]=n[l],s=!0,A=0;A<t.length;A++)(!1&i||a>=i)&&Object.keys(r.O).every(n=>r.O[n](t[A]))?t.splice(A--,1):(s=!1,i<a&&(a=i));if(s){n.splice(l--,1);var d=o();void 0!==d&&(e=d)}}return e}i=i||0;for(var l=n.length;l>0&&n[l-1][2]>i;l--)n[l]=n[l-1];n[l]=[t,o,i]},r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),r.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={792:0};r.O.j=e=>0===n[e];var e=(e,t)=>{var o,i,[a,s,A]=t,d=0;if(a.some(e=>0!==n[e])){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(A)var l=A(r)}for(e&&e(t);d<a.length;d++)i=a[d],r.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return r.O(l)},t=self.webpackChunknetease_mod_injector=self.webpackChunknetease_mod_injector||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})(),r.nc=void 0;var o=r.O(void 0,[649],()=>r(282));o=r.O(o)})();
//# sourceMappingURL=main.6984955298a3e4585370.js.map