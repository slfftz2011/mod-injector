(()=>{"use strict";var n,e={93:(n,e,r)=>{var t=r(72),o=r.n(t),A=r(825),a=r.n(A),i=r(659),s=r.n(i),d=r(56),l=r.n(d),c=r(540),m=r.n(c),p=r(113),C=r.n(p),B=r(171),b={};b.styleTagTransform=C(),b.setAttributes=l(),b.insert=s().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=m(),o()(B.A,b),B.A&&B.A.locals&&B.A.locals;var g=r(365),u={};u.styleTagTransform=C(),u.setAttributes=l(),u.insert=s().bind(null,"head"),u.domAPI=a(),u.insertStyleElement=m(),o()(g.A,u),g.A&&g.A.locals&&g.A.locals;const I=r(83).A.create({baseURL:"https://slfftz2011.github.io/mod-injector/api",timeout:1e4});I.interceptors.request.use(n=>n,n=>(console.error("请求错误:",n),Promise.reject(n))),I.interceptors.response.use(n=>n.data,n=>(console.error("响应错误:",n),alert("请求失败: "+(n.response?.data?.message||"网络错误")),Promise.reject(n)));const h=I,f=async()=>await h.get("/components.json");class v{constructor(){this.components=[],this.installedComponents=[]}async init(){try{const n=await f();this.components=n.data||[],this.installedComponents=await getInstalledComponents(),this.renderComponentList(),this.bindEvents()}catch(n){console.error("获取远程组件失败：",n),document.getElementById("componentList").innerHTML='<div style="text-align: center; padding: 2rem; color: #f44336;">加载组件失败，请稍后重试</div>'}}renderComponentList(){const n=document.getElementById("componentList"),e=document.getElementById("component-search").value.toLowerCase(),r=document.getElementById("component-filter").value;if(0===this.components.length)return void(n.innerHTML='<div style="text-align: center; padding: 2rem;">暂无组件数据</div>');const t=this.components.filter(n=>{const t=n.name.toLowerCase().includes(e)||n.description.toLowerCase().includes(e),o=this.installedComponents.some(e=>e.id===n.id),A=this.installedComponents.find(e=>e.id===n.id)?.enabled;return"all"===r?t:"installed"===r?t&&o:"enabled"===r?t&&o&&A:t});n.innerHTML=t.map(n=>{const e=this.installedComponents.some(e=>e.id===n.id),r=this.installedComponents.find(e=>e.id===n.id)?.enabled,t=this.installedComponents.find(e=>e.id===n.id)?.version;return`\n        <div class="component-card">\n          <h3>\n            ${n.name}\n            <span class="component-version">v${t||n.version}</span>\n          </h3>\n          <p class="component-desc">${n.description}</p>\n          <div style="font-size: 0.8rem; color: #666; margin: 0.5rem 0;">\n            大小: ${n.size} | 最后更新: ${n.updateTime}\n          </div>\n          ${n.required?'<span style="display: inline-block; background: #ff9800; color: white; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">核心组件</span>':""}\n          <div class="component-actions">\n            ${e?"":`<button class="component-btn install-btn" data-id="${n.id}">安装</button>`}\n            ${e?`<button class="component-btn ${r?"disable-btn":"enable-btn"}" data-id="${n.id}">${r?"禁用":"启用"}</button>`:""}\n            ${e&&!n.required?`<button class="component-btn uninstall-btn" data-id="${n.id}">卸载</button>`:""}\n          </div>\n        </div>\n      `}).join("")}bindEvents(){document.getElementById("componentList").addEventListener("click",async n=>{if(n.target.classList.contains("install-btn")){const e=n.target.dataset.id;await this.installComponent(e)}if(n.target.classList.contains("enable-btn")||n.target.classList.contains("disable-btn")){const e=n.target.dataset.id;await this.toggleComponentStatus(e)}if(n.target.classList.contains("uninstall-btn")){const e=n.target.dataset.id;await this.uninstallComponent(e)}}),document.getElementById("component-search").addEventListener("input",()=>this.renderComponentList()),document.getElementById("component-filter").addEventListener("change",()=>this.renderComponentList())}async installComponent(n){const e=this.components.find(e=>e.id===n);e&&(this.installedComponents.push({...e,enabled:!0}),await saveInstalledComponents(this.installedComponents),await saveLastSyncTime(Date.now()),this.renderComponentList())}async toggleComponentStatus(n){const e=this.installedComponents.find(e=>e.id===n);e&&(e.enabled=!e.enabled,await saveInstalledComponents(this.installedComponents),this.renderComponentList())}async uninstallComponent(n){this.installedComponents=this.installedComponents.filter(e=>e.id!==n),await saveInstalledComponents(this.installedComponents),await saveLastSyncTime(Date.now()),this.renderComponentList()}}var y=r(790),x=r.n(y);x().config({name:"NeteaseModInjector",storeName:"components"});bindEvents(),document.getElementById("sync-components").addEventListener("click",async()=>{const n=document.getElementById("componentList");n.innerHTML='<div style="text-align: center; padding: 2rem;">同步中...</div>';try{const n=await f();(void 0).components=n.data||[],await(async n=>{await x().setItem("lastSyncTime",n)})(Date.now()),(void 0).renderComponentList()}catch(e){console.error("同步组件失败：",e),n.innerHTML='<div style="text-align: center; padding: 2rem; color: #f44336;">同步失败，请稍后重试</div>'}}),document.addEventListener("DOMContentLoaded",()=>{(async()=>{const n=new v;await n.init()})()})},171:(n,e,r)=>{r.d(e,{A:()=>i});var t=r(354),o=r.n(t),A=r(314),a=r.n(A)()(o());a.push([n.id,"/* 基础样式重置 */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\nbody {\n    background-color: #f9f9f9;\n    color: #333;\n    line-height: 1.6;\n}\n\n/* 通用按钮样式 */\n.btn {\n    cursor: pointer;\n    border: none;\n    border-radius: 4px;\n    transition: background 0.2s;\n}\n\n/* 响应式适配 */\n@media (max-width: 768px) {\n    .component-list {\n        grid-template-columns: 1fr !important;\n    }\n}","",{version:3,sources:["webpack://./src/styles/global.css"],names:[],mappings:"AAAA,WAAW;AACX;IACI,SAAS;IACT,UAAU;IACV,sBAAsB;IACtB,4DAA4D;AAChE;;AAEA;IACI,yBAAyB;IACzB,WAAW;IACX,gBAAgB;AACpB;;AAEA,WAAW;AACX;IACI,eAAe;IACf,YAAY;IACZ,kBAAkB;IAClB,2BAA2B;AAC/B;;AAEA,UAAU;AACV;IACI;QACI,qCAAqC;IACzC;AACJ",sourcesContent:["/* 基础样式重置 */\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n}\r\n\r\nbody {\r\n    background-color: #f9f9f9;\r\n    color: #333;\r\n    line-height: 1.6;\r\n}\r\n\r\n/* 通用按钮样式 */\r\n.btn {\r\n    cursor: pointer;\r\n    border: none;\r\n    border-radius: 4px;\r\n    transition: background 0.2s;\r\n}\r\n\r\n/* 响应式适配 */\r\n@media (max-width: 768px) {\r\n    .component-list {\r\n        grid-template-columns: 1fr !important;\r\n    }\r\n}"],sourceRoot:""}]);const i=a},365:(n,e,r)=>{r.d(e,{A:()=>i});var t=r(354),o=r.n(t),A=r(314),a=r.n(A)()(o());a.push([n.id,'.component-manager {\n    max-width: 1200px;\n    margin: 2rem auto;\n    padding: 0 1rem;\n}\n\n.component-filters {\n    display: flex;\n    gap: 1rem;\n    margin: 1.5rem 0;\n    flex-wrap: wrap;\n}\n\n#component-search {\n    flex: 1;\n    min-width: 200px;\n    padding: 0.5rem;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\n#component-filter {\n    padding: 0.5rem;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    background: transparent;\n}\n\n.component-list {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 1.5rem;\n    margin-top: 2rem;\n}\n\n.component-card {\n    border: 1px solid #e0e0e0;\n    border-radius: 8px;\n    padding: 1.2rem;\n    transition: all 0.3s ease;\n}\n\n.component-card:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.component-card h3 {\n    margin: 0 0 0.5rem 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.component-version {\n    font-size: 0.8rem;\n    color: #666;\n}\n\n.component-desc {\n    color: #555;\n    margin: 0.8rem 0;\n    font-size: 0.95rem;\n    line-height: 1.5;\n}\n\n.component-actions {\n    display: flex;\n    gap: 0.5rem;\n    margin-top: 1rem;\n}\n\n.component-btn {\n    padding: 0.4rem 0.8rem;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 0.9rem;\n    transition: background 0.2s;\n}\n\n.install-btn {\n    background: #4CAF50;\n    color: white;\n}\n\n.uninstall-btn {\n    background: #f44336;\n    color: white;\n}\n\n.enable-btn {\n    background: #2196F3;\n    color: white;\n}\n\n.disable-btn {\n    background: #ff9800;\n    color: white;\n}\n\n/* 模态框样式 */\n.modal {\n    display: none;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.5);\n    z-index: 1000;\n    align-items: center;\n    justify-content: center;\n}\n\n.modal-content {\n    background: var(--bg-color);\n    padding: 2rem;\n    border-radius: 8px;\n    width: 90%;\n    max-width: 500px;\n    position: relative;\n}\n\n.close-btn {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    font-size: 1.5rem;\n    cursor: pointer;\n}\n\n#component-url {\n    width: 100%;\n    padding: 0.8rem;\n    margin: 1rem 0;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\n#confirm-install {\n    background: #4CAF50;\n    color: white;\n    border: none;\n    padding: 0.8rem 1.5rem;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\n/* 深色模式适配 */\n[data-theme="dark"] .component-card {\n    border-color: #333;\n}\n\n[data-theme="dark"] .component-desc,\n[data-theme="dark"] .component-version {\n    color: #bbb;\n}\n\n[data-theme="dark"] #component-search,\n[data-theme="dark"] #component-filter,\n[data-theme="dark"] #component-url {\n    border-color: #444;\n    background: #222;\n    color: #fff;\n}',"",{version:3,sources:["webpack://./src/components/component-manager.css"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,iBAAiB;IACjB,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,SAAS;IACT,gBAAgB;IAChB,eAAe;AACnB;;AAEA;IACI,OAAO;IACP,gBAAgB;IAChB,eAAe;IACf,sBAAsB;IACtB,kBAAkB;AACtB;;AAEA;IACI,eAAe;IACf,sBAAsB;IACtB,kBAAkB;IAClB,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,4DAA4D;IAC5D,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,eAAe;IACf,yBAAyB;AAC7B;;AAEA;IACI,yCAAyC;AAC7C;;AAEA;IACI,oBAAoB;IACpB,aAAa;IACb,8BAA8B;IAC9B,mBAAmB;AACvB;;AAEA;IACI,iBAAiB;IACjB,WAAW;AACf;;AAEA;IACI,WAAW;IACX,gBAAgB;IAChB,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,sBAAsB;IACtB,YAAY;IACZ,kBAAkB;IAClB,eAAe;IACf,iBAAiB;IACjB,2BAA2B;AAC/B;;AAEA;IACI,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,mBAAmB;IACnB,YAAY;AAChB;;AAEA,UAAU;AACV;IACI,aAAa;IACb,eAAe;IACf,MAAM;IACN,OAAO;IACP,WAAW;IACX,YAAY;IACZ,8BAA8B;IAC9B,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,2BAA2B;IAC3B,aAAa;IACb,kBAAkB;IAClB,UAAU;IACV,gBAAgB;IAChB,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,WAAW;IACX,iBAAiB;IACjB,eAAe;AACnB;;AAEA;IACI,WAAW;IACX,eAAe;IACf,cAAc;IACd,sBAAsB;IACtB,kBAAkB;AACtB;;AAEA;IACI,mBAAmB;IACnB,YAAY;IACZ,YAAY;IACZ,sBAAsB;IACtB,kBAAkB;IAClB,eAAe;AACnB;;AAEA,WAAW;AACX;IACI,kBAAkB;AACtB;;AAEA;;IAEI,WAAW;AACf;;AAEA;;;IAGI,kBAAkB;IAClB,gBAAgB;IAChB,WAAW;AACf",sourcesContent:['.component-manager {\r\n    max-width: 1200px;\r\n    margin: 2rem auto;\r\n    padding: 0 1rem;\r\n}\r\n\r\n.component-filters {\r\n    display: flex;\r\n    gap: 1rem;\r\n    margin: 1.5rem 0;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n#component-search {\r\n    flex: 1;\r\n    min-width: 200px;\r\n    padding: 0.5rem;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n}\r\n\r\n#component-filter {\r\n    padding: 0.5rem;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n    background: transparent;\r\n}\r\n\r\n.component-list {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n    gap: 1.5rem;\r\n    margin-top: 2rem;\r\n}\r\n\r\n.component-card {\r\n    border: 1px solid #e0e0e0;\r\n    border-radius: 8px;\r\n    padding: 1.2rem;\r\n    transition: all 0.3s ease;\r\n}\r\n\r\n.component-card:hover {\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.component-card h3 {\r\n    margin: 0 0 0.5rem 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.component-version {\r\n    font-size: 0.8rem;\r\n    color: #666;\r\n}\r\n\r\n.component-desc {\r\n    color: #555;\r\n    margin: 0.8rem 0;\r\n    font-size: 0.95rem;\r\n    line-height: 1.5;\r\n}\r\n\r\n.component-actions {\r\n    display: flex;\r\n    gap: 0.5rem;\r\n    margin-top: 1rem;\r\n}\r\n\r\n.component-btn {\r\n    padding: 0.4rem 0.8rem;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 0.9rem;\r\n    transition: background 0.2s;\r\n}\r\n\r\n.install-btn {\r\n    background: #4CAF50;\r\n    color: white;\r\n}\r\n\r\n.uninstall-btn {\r\n    background: #f44336;\r\n    color: white;\r\n}\r\n\r\n.enable-btn {\r\n    background: #2196F3;\r\n    color: white;\r\n}\r\n\r\n.disable-btn {\r\n    background: #ff9800;\r\n    color: white;\r\n}\r\n\r\n/* 模态框样式 */\r\n.modal {\r\n    display: none;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    z-index: 1000;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.modal-content {\r\n    background: var(--bg-color);\r\n    padding: 2rem;\r\n    border-radius: 8px;\r\n    width: 90%;\r\n    max-width: 500px;\r\n    position: relative;\r\n}\r\n\r\n.close-btn {\r\n    position: absolute;\r\n    top: 1rem;\r\n    right: 1rem;\r\n    font-size: 1.5rem;\r\n    cursor: pointer;\r\n}\r\n\r\n#component-url {\r\n    width: 100%;\r\n    padding: 0.8rem;\r\n    margin: 1rem 0;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n}\r\n\r\n#confirm-install {\r\n    background: #4CAF50;\r\n    color: white;\r\n    border: none;\r\n    padding: 0.8rem 1.5rem;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n}\r\n\r\n/* 深色模式适配 */\r\n[data-theme="dark"] .component-card {\r\n    border-color: #333;\r\n}\r\n\r\n[data-theme="dark"] .component-desc,\r\n[data-theme="dark"] .component-version {\r\n    color: #bbb;\r\n}\r\n\r\n[data-theme="dark"] #component-search,\r\n[data-theme="dark"] #component-filter,\r\n[data-theme="dark"] #component-url {\r\n    border-color: #444;\r\n    background: #222;\r\n    color: #fff;\r\n}'],sourceRoot:""}]);const i=a}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var A=r[n]={id:n,exports:{}};return e[n](A,A.exports,t),A.exports}t.m=e,n=[],t.O=(e,r,o,A)=>{if(!r){var a=1/0;for(l=0;l<n.length;l++){for(var[r,o,A]=n[l],i=!0,s=0;s<r.length;s++)(!1&A||a>=A)&&Object.keys(t.O).every(n=>t.O[n](r[s]))?r.splice(s--,1):(i=!1,A<a&&(a=A));if(i){n.splice(l--,1);var d=o();void 0!==d&&(e=d)}}return e}A=A||0;for(var l=n.length;l>0&&n[l-1][2]>A;l--)n[l]=n[l-1];n[l]=[r,o,A]},t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={792:0};t.O.j=e=>0===n[e];var e=(e,r)=>{var o,A,[a,i,s]=r,d=0;if(a.some(e=>0!==n[e])){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(s)var l=s(t)}for(e&&e(r);d<a.length;d++)A=a[d],t.o(n,A)&&n[A]&&n[A][0](),n[A]=0;return t.O(l)},r=self.webpackChunknetease_mod_injector=self.webpackChunknetease_mod_injector||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),t.nc=void 0;var o=t.O(void 0,[649],()=>t(93));o=t.O(o)})();
//# sourceMappingURL=main.08dc1712ff9196dc526f.js.map